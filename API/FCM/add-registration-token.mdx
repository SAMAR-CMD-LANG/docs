---
title: "Add FCM Registration Token"
description: "Registers the user's device for push notifications using Firebase Cloud Messaging (FCM)."
---

**POST** `/fcm/register`

This endpoint registers the authenticated user's device for **Firebase Cloud Messaging (FCM)** push notifications.

It stores:

- The **FCM registration token**
- The **device type** (`android`, `ios`, or `web`)

Used for enabling personalized push notification delivery.

A valid authentication token is required.

---

## üîê Required Headers

| Key           | Value Format         | Required | Description |
|---------------|----------------------|----------|-------------|
| Authorization | `Token <token>`      | Yes      | User authentication token |
| Content-Type  | `application/json`   | Yes      | JSON request body |

---

## üìù Request Body Parameters

| Field             | Datatype | Required | Description |
|-------------------|----------|----------|-------------|
| registration_token | string   | Yes      | FCM token generated by the client device |
| device_type        | string   | Yes      | Device platform (`android`, `ios`, or `web`) |

---

## üìå Example Request Body

```json
{
    "registration_token": "fcm_device_token_here",
    "device_type": "android/ios/web"
}
```

---

## üìÆ Example cURL

```bash
curl -X POST "https://your-api.com/fcm/register" \
  -H "Authorization: Token 6a0110..." \
  -H "Content-Type: application/json" \
  -d '{
    "registration_token": "fcm_device_token_here",
    "device_type": "android"
  }'
```

---

# üß© Successful Response (200 OK)

```json
{
    "message": "FCM registration token added successfully."
}
```

---

# ‚ö†Ô∏è Possible Errors

| Status | Description |
|--------|-------------|
| 400 Bad Request | Missing or invalid fields |
| 401 Unauthorized | Missing or invalid token |
| 500 Internal Server Error | Unexpected server error |

---

# üìò Notes

- Call this endpoint whenever a new FCM token is generated.  
- FCM tokens can change after reinstall, device reset, or updates.  
- Correct `device_type` ensures accurate notification targeting.

